#include <ncurses.h>

int h;
int w;

void OPTIONS(){
   int c = getch();
   switch (c){
      case 113:
         exitman(); break;

      case 110:
         newfile(); break;

      case 105:
         importfile(); break;

      case 115:
         sort(); break;

      case 119:
         writetofile(); break;

      case 104:
         helpwin(); break;

      case 27:
         break;

      default:
         wprintw(options, "Invalid input!");
   }
}

void banner(){
   WINDOW *banner = newwin(2, w, 0, 0);

   mvwprintw(banner, 1, w/2 - 10, "EDUMAN -- 0.8.0");
   box(banner, 0, 0);
   wrefresh(banner);
}

void OPTIONSBOX(){
   WINDOW *options = newwin(2, w, h-4, 0);
   WINDOW *toolbar = newwin(2, w, h-2, 0);

   box(options, 0, 0);
   box(toolbar, 0, 0);

   wprintw(toolbar, "q:quit  n:new  i:import  s:sort  w:write  h:help");
   wrefresh(options);
   wrefresh(toolbar);
}

void exitman(){
   wprintw(options, "Are you sure you want to exit ?");
   if(getch() == 121){
      endwin();
   }
   else {
      wclear(options);
   }
}

void mainwin(){
   banner();
   OPTIONSBOX();


}

void printOOBE(){
   getmaxyx(stdscr, h, w);
   initscr();
   cbreak();
   noecho();

   WINDOW *welcome = newwin(6, 20, h/2 - 6, w/4);
   box(welcome, 0, 0);
   wprintw(welcome, "\tEDUMAN\n");
   wprintw(welcome, "Press n to create new database");
   wprintw(welcome, "Press i to import compatible .csv file");
   wrefresh(welcome);
}
